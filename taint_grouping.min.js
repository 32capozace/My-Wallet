function removeGrouping(){$("#active-addresses").trigger("show")}function buildTable(f){var a=$("#active-addresses");var g=a.find("table");g.find("tbody").remove();for(var c in f){var e=f[c];if(c==0){g.append('<tbody><tr><th colspan="2">Group #'+c+'</th><th colspan="2"><a onclick="removeGrouping();">Hide Grouping</a></th></tr></tbody>')}else{g.append('<tbody><tr><th colspan="4">Group #'+c+"</th></tr></tbody>")}var k=$("<tbody></tbody>").appendTo(g);for(var n in e){var m=e[n];var b=addresses[m];if(!b){continue}var h="";if(b.tag==1){h=' <font color="red" title="Not Synced">(Not Synced)</font>'}else{if(b.priv==null){h=' <font color="red" title="Watch Only">(Watch Only)</font>'}}var j="";var d=b.addr;if(b.label!=null){d=b.label;j='<span class="hidden-phone"> - '+b.addr+"</span>"}var l='<tr style="background-color:#FFFFFF;"><td style="width:20px;background-color:#FFFFFF;"><img id="qr'+b.addr+'" onclick="showAddressModal(\''+b.addr+'\')" src="'+resource+'info.png" /></td><td style="background-color:#FFFFFF;"><div class="short-addr"><a href="'+root+"address/"+b.addr+'" target="new">'+d+"</a>"+j+" "+h+'<div></td><td style="background-color:#FFFFFF;" colspan="2"><span style="color:green">'+formatBTC(b.balance)+'<span class="hidden-phone"> BTC</span></span></td></tr>';k.append(l)}g.append(k)}}function loadTaintData(){setLoadingText("Loading Taint Data");$.get(root+"taint/"+getAllAddresses().join("|")+"?format=json").success(function(n){var j=[];var f=n.filteredTaints;for(var m in f){var g=f[m];var e=-1;for(var d in g){var k=g[d];for(var c in j){if(c!=e&&$.inArray(d,j[c])){if(e>=0){var h=j.splice(e,1);var l=j.splice(c,1);j.push(h.concat(l))}else{j[c].push(m)}e=c}if(e>=0){break}}}if(e==-1){j.push([m])}}buildTable(j);apiGetBalances(getAllAddresses(),function(b){for(var a in b){addresses[a].balance=b[a].final_balance}buildTable(j)},function(a){makeNotice("error","misc-error",a)})}).error(function(){makeNotice("error","misc-error","Error Downloading Taint Data")})};