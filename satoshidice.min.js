function buildForm(){var a=$("#send-satoshi-dice");setLoadingText("Loading Betting Table");$.get(root+"satoshidice").success(function(g){var c=a.find(".recipient-container");c.empty();var b=$('<div class="control-group"><label class="control-label">Win Odds</label><div class="controls"><p class="help-block">Enter the amounts you wish to bet below:</p></div></div>');c.append(b);for(var e in g){var d=g[e];if(d.popular){c.append('<div class="control-group recipient"><label class="control-label">'+d.odds+'%</label><div class="controls"><input name="send-to-address" type="hidden" value="'+d.address+'" /><div class="input-append"> <input class="send-value" style="width:auto;max-width:145px;" data-optional="true" name="send-value" data-multiplier="'+d.multiplier+'" data-minbet="'+d.minBet+'" data-maxbet="'+d.maxBet+'" placeholder="Bet Amount (BTC)" type="text" /><span class="add-on send-win-amount">No Bet</span> </div></div></div>')}}function f(h){if(h.val()>0){h.parent().find(".send-win-amount").html("Win Amount: "+(parseFloat(h.val())*parseFloat(h.data("multiplier"))).toFixed(4)+" BTC")}else{h.parent().find(".send-win-amount").html("No Bet")}}c.find('input[name="send-value"]').change(function(){if($(this).val()>$(this).data("maxbet")){$(this).val($(this).data("maxbet"));makeNotice("error","misc-error","The Maximum Bet is "+$(this).data("maxbet")+" BTC")}if($(this).val()==0){$(this).val("")}else{if($(this).val()<$(this).data("minbet")){$(this).val($(this).data("minbet"));makeNotice("error","misc-error","The Minimum Bet is "+$(this).data("minbet")+" BTC")}}f($(this))});c.find('input[name="send-value"]').keyup(function(){f($(this))});a.find(".send").unbind().click(function(){loadScript(resource+"wallet/signer.min.js",function(){startTxUI(a,"quick",initNewTx())})})}).error(function(){makeNotice("error","misc-error","Error Downloading SatoshiDICE Bets")})};