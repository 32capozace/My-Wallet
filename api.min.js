function Transaction(){}function Block(){}function BlockFromJSON(a){var b=new Block();b.hash=a.hash;b.time=a.time;b.nTx=a.n_tx;b.blockIndex=a.block_index;b.height=a.height;b.txIndex=a.txIndexes;return b}function AlreadyHaveTransaction(a){return($("#tx-"+a).length>0)}function TransactionFromJSON(c){var a=new Transaction();a.hash=c.hash;a.size=c.size;a.txIndex=c.tx_index;a.time=c.time;a.inputs=c.inputs;a.out=c.out;a.blockIndex=c.block_index;try{for(var b=0;b<a.inputs.length;b++){a.inputs[b].prev_out.addr=new Bitcoin.Address(Crypto.util.hexToBytes(a.inputs[b].prev_out.hash))}for(var b=0;b<a.out.length;b++){a.out[b].addr=new Bitcoin.Address(Crypto.util.hexToBytes(a.out[b].hash))}}catch(d){}return a}Array.prototype.hasObject=(!Array.indexOf?function(b){var a=this.length+1;while(a-=1){if(this[a-1]===b){return true}}return false}:function(a){return(this.indexOf(a)!==-1)});Transaction.prototype.getResult=function(){var b=0;for(var a=0;a<this.out.length;a++){output=this.out[a];var c=parseInt(output.value)/100000000;if(this.myHashes160==null){b+=c}else{if(this.myHashes160.hasObject(output.hash)){b+=c}}}if(this.myHashes160==null){return b}for(var a=0;a<this.inputs.length;a++){input=this.inputs[a];var c=parseInt(input.prev_out.value)/100000000;if(this.myHashes160.hasObject(input.prev_out.hash)){b-=c}}return b};Transaction.prototype.setMyHashes=function(a){this.myHashes160=a};Transaction.prototype.setConfirmations=function(b){var a=$("#tx-"+this.txIndex+" .confirmations");a.hide();if(b==0){a.fadeIn(200);a.attr("class","btn error");a.html("Unconfirmed Transaction!")}else{if(b<=100){a.fadeIn(200);a.attr("class","btn primary");a.html(b+" Confirmations")}else{a.fadeOut(200)}}};Transaction.prototype.getHTML=function(){var e=this.getResult();var d='<div id="tx-'+this.txIndex+'"><table class="zebra-striped" cellpadding="0" cellspacing="0" style="padding:0px;float:left;margin:0px;margin-top:10px;">	<tr><th colspan="2">';if(this.myHashes160!=null){if(e>0){d+='<span class="label success">Payment Received</span>'}else{if(e<0){d+='<span class="label important">Payment Sent</span>'}else{if(e==0){d+='<span class="label">Funds Moved</span>'}}}}d+=' <a style="font-size:12px;font-weight:normal" href="'+root+"tx-index/"+this.txIndex+"/"+this.hash+'">'+this.hash+"</a>";d+="</th><th>";if(this.time>0){var b=new Date(this.time*1000);d+=$.format.date(b,"yyyy-MM-dd HH:mm:ss")}d+='</th><th><span class="adv">'+this.size+' (bytes)</span></th></tr><tr><td width="55%" style="vertical-align:middle;"><ul class="txul">';if(this.inputs.length>0){for(var c=0;c<this.inputs.length;c++){input=this.inputs[c];if(this.myHashes160!=null&&this.myHashes160.hasObject(input.prev_out.hash)){d+="<li>"+input.prev_out.addr+"</li>"}else{if(input.prev_out.hash==null||input.prev_out.hash.length==0){d+="<li><b>No Input (Newly Generated Coins)</b></li>"}else{d+='<li><a href="'+root+"address/"+input.prev_out.hash+'">'+input.prev_out.addr+"</a></li>"}}}}else{d+="<li>No inputs, transaction probably sent from self.</li>"}d+='</ul></td><td style="padding:0px;width:48px;min-height:48px;vertical-align:middle;">';var a;if(e>0){a="btn success";d+='<img src="'+resource+'arrow_right_green.png" />'}else{if(e<0){a="btn error";d+='<img src="'+resource+'arrow_right_red.png" />'}else{a="btn";d+="&nbsp;"}}d+='</td><td width="30%" style="vertical-align:middle;"><ul class="txul">';for(var c=0;c<this.out.length;c++){output=this.out[c];if(this.myHashes160==null||!this.myHashes160.hasObject(output.hash)){d+='<li><a href="'+root+"address/"+output.hash+'">'+output.addr+"</a></li>"}else{d+="<li>"+output.addr+"</li>"}}d+='</ul></td><td width="15%" style="vertical-align:middle;"><ul class="txul">';for(var c=0;c<this.out.length;c++){output=this.out[c];var f=output.value/100000000;d+="<li>"+f+" BTC</li>"}d+='</ul></td></tr></table><span style="float:right;padding-bottom:30px;clear:both;">';if(this.ip!=null&&this.ip.length>0){d+='<span class="adv"><i>Received from: <a href="'+root+"ip-address/"+this.ip+'">'+this.ip+'</a> <a href="http://www.dnsstuff.com/tools/ipall/?tool_id=67&ip='+this.ip+'" target="new">(whois)</a> - </span>'}d+='<button class="confirmations" style="display:hidden"></button> ';d+='<button class="btn info">'+(Math.round(e*market_price*100)/100).toFixed(2)+' USD</button> <button class="'+a+'">'+e.toFixed(4)+" BTC</button></span></div>";return d};